# Offers Engine Knowledge Transfer Guide

• **Offers System Architecture**: Explains how merchants create discount offers through a dashboard that integrates with the offer engine database, where customers can view eligible offers during payment and the system validates offer eligibility before applying discounts to transactions.

• **Offer Configuration & Types**: Covers comprehensive offer setup including coupon-based vs auto-apply offers, discount types (percentage/absolute), payment method filters (cards, net banking, wallets, UPI), customer targeting, and various limits like campaign amounts, per-customer caps, and per-card usage restrictions.

• **Advanced Features**: Details add-on offers (multiple offers in single transaction), scheduling capabilities (time-based activation like "Wednesdays only"), three offer benefit types (instant discount, cashback, payment-via-locking for brand promotions), refund handling, and tokenization integration for secure card storage incentives.

---


Can I start?
So we'll discuss today on offers. So as of now how much I know I going to explain the same thing to you people. So basically offers what do you mean by offers everybody knows? So whenever we using the payments pages so we'll be having a merchants will be giving some of the discounts to us. So based on those codes or something they whatever they want to give some discounts to us whenever we are buying their products or something. So that is what we are calling it as an office. So office is in a uh sub product of an oiler uh that everybody knows. So basically they'll be having uh one problem. So merchant will be having their own problem like before they're using the uh dashboard of different gateways or something. So for that reason we have given the solution to them by telling them we going to given a sub product. We are already given them the uh dashboard. So whatever our create a dashboard to them. So in that told you we we have implemented one more function called that is offers. So in the offers they can configure their offers actually how the uh offer architecture is. So this is the merchant All right. So I'll just explain the architecture of how the offer engine works. So this is the merchant. So merchant will be creating his offers in the dashboard front end. So these offers whatever he is creating this will be saved in the offer engine in the uh DB that is uh PSQL something. So whenever we are uh whenever the customer is accessing the SDK during that in the payments page we In buildably we are calling offers list API so which will show all the in the SPM that is payment methods we going to get the all the offers eligible offers for that customer based on his uh order amount and whatever the products he's added. So after that once we have done the transaction so it will be hitting to the oiler oiler main I mean I'm just sorry what we going to call this I mean oiler I just know oiler. Yeah, oiler. So inside that oiler what it is doing to verify whatever. So here I have displayed the office list first. So I'm applying one of the offer or multiple offers in the same transaction during the creation of the transaction. So I'm applying the offer ids. So with these ids whether it is eligible or not it will going to check inside by calling the apply uh offer API. So inside oiler will going to call the apply offer API. So it will check inside in the offer engine whether whatever the past offer ids are there whether it is eligible for this transaction or not instead of that it will in return it will going to give me an notify API response it will going to give me so through that I'll get to know whether it is applicable whether that offer is initiated whether it is consumed or whether it is failed so later on we're going to send that response to the gateway and then I going to receive that response uh as whether it is charged or something the same thing we're going to pass it to the merchant so this is the just architecture of the offer engine what I explained
notify API what information we give
whether this offer whatever we have given right that whether it is eligible or not it will going to send it to the oiler I mean for the order ID for the amount and the for the product ID the offer is supplied that status will be returned from offer you have done suppose you have an order of 3,000 some merchant is giving some offer like if you're doing minimum amount of 3,000 you'll get like 10% cash back or like some coupon code will be returned then it will send those details to for engine offer engine will validate the offer with the available offer list and it will say whether to apply or not this offer and to return the response back. So on consume that response we'll apply offer. Offer engine gives to apply it. If offer engine is saying it's not valid, we won't apply the offer there. So inside this offers so we'll be having uh three type of API. So a few are the dashboard APIs. So these are the dashboard APIs create offer update. offer, pause offer and delete offer and activate offer we using. So along with that uh mainly from the back end whatever we are using is the offer list API and apply offer. These are the two APIs we are using in the back end offers list which we going to use the list of eligible offers which are eligible to the customer and one more is a apply offer. which will be called inside by the oiler.
Yes, this is from the dashboard team. I mean dashboard uh to create an offer and update if I want to update the offer which is already created. So I can do through the update offer API.
Uh there is separate API or dashboard
from separate APIs also that And there is a pause offer also. If I want to pause any offer for certain period of time, I can pause it. And if I want to delete any offer, I can call the digit offer API which will going to delete that offer and activate offer. So once if I paused that offer, if I want to activate it again, I can call the save. So it will going to give in the uh the same thing we are having the functionality in the front end also where we can create, we can update, we can pause, we can delete or we can activate those offers. I'll do that before that. While creating an offer we have some of the counters uh we have some of the uh scheduulers and we have some of the filters. So these are all the configurations what we are having in the uh try to explain one by one just share it to me which uh one of the merchant dashboard. So we're having an option called offers here. So inside this offer I'm having a option called create new offer where I'll be having uh few details like offer details tab, payment details tab, product and customer details tab and additional configuration. So in the offer details tab so I'll be having a coupon based offer. So if I'm creating any coupon based offer means this coupon uh whatever I'm creating the offer that will be displayed in the offers list page. So in that case I need to select yes. If I don't want to display that one, uh I need to select it as an no. If I am selecting it as a no, it will be auto apply. Cooper means it is a add-on offer. Means two offers he can be eligible. If I'm selecting as yes, it will be only individual offer he can apply. He cannot apply a multiple offers. So then I'll be having a hidden coupon. So you people might have known that some of the scratch cards are something we're going to receive from the merchants, gift cards, something. So where you you are the only one person who is eligible to get that offer by entering that offer code whatever it is mentioned in the scratch cards so that if I want if the merchant wants to create that type of offer he can do that one by selecting the hidden coupon as yes if he selected it as yes it won't show in the uh payments page where uh he going to display list of the offers who is eligible right that won't be displayed so whatever the offer code he is mentioning here if he enters that then only it will be applicable Here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here yeah here sorry hidden you might have seen uh some of the merchants after paying uh in the Google pay you will going to receive some of the gift cards right gift cards scratch cards where we'll be having uh some quotes from the swiggy consider swiggy swiggy 100 if you give if you using that type of cards then it is a hidden coupon means it is not eligible for all the customers only for the specified customers it will be eligible And for every customer in the list of offers, it won't display in the payments page.
Once payment,
no, you received that offer, you can consume it whenever you are ordering something in the Spiggy. So that's what the hidden coupons mean it is not eligible for all the customers. Instead of that selected customers, they'll be sending that gift cards. So through those gift cards, they can order something from their uh websites or something. So as of now I'll just create a normal uh offer that is hidden coupon. I'll just make it as no. So this is the offer code what I'm giving.
So here if you're creating the hidden coupon where we will enter the customer details in the product.
Yeah here next page order based on so offer code I'll be entering GP 100 and offer title. get 10% off on order 100 rupees. So this is just an title whatever you want you can enter into that. So offer description also and you have to choose the validity from which date to which date you want to uh active that activate that offer. So then you have to choose Logo you can choose anything it's not about
it's not
no logo for offer is mandatory
but we not passing dashboard
then how it would become
so here they if we're not selecting that
yeah it is a mandatory field they might
field in dashboard but why like will it show up in payment page
no
then why is the use case you ask them
yeah So then there is a offer benefit uh op uh field. So where I'll be selecting cash back, discount and payment locking via offer. So cash back discount in the sense spot on discount we are giving in the particular order. Cash back in the sense once that order is done. So then later on he'll be receiving that cash back amount to his account and then payment locking via offer. So this option I was not having an idea. I'll get it back. later on. So then I'll just entering the offer amount. So either I can choose whether the offer amount is of absolute or percentage. If it is in terms of percentage uh whatever the order amount is there uh based on the given input I mean 10%. So 10% of the order amount will going to be calculated and if I'm giving the absolute then 10 rupees whole amount will be whatever the mentioned amount will be uh get deducted from the order amount. So I'm choosing now absolute sorry 10% I'll choose the percentage. So here even you can mention the maximum amount also I mean how much discount amount you want to give. I want to give 100 maximum in maximum 100 amount only he can be applicable more than that if I'm considering I have an order amount of 100. So 10% of 100 will be 10 rupees. So that's fine. If I'm having an order amount of 1,200 10% of 1,200 will be 120 but maximum capping I have given as 100 rupees so more than that 100 rupees it won't deduct only 100 rupees it will going to deduct that's the use of the maximum amount of offer amount so then round up function will be there so these are the non-mandatory fields means if you are having after uh 1000 some decimal points if it came also it will going to round up to two digits so that's what the roundup function will do and we are having one more option here apply offer on order breakup. So in the order breakup we'll be having a few more fields see here choose order breakup so base amount base amount in the sense without charges I mean without tax without uh this cash on delivery amount whatever it is there so that is what we are calling it as an base amount then delivery charge if you want to apply this offer on delivery charge also and base amount also you can choose both and if you want to apply this offer even on the delivery tip also these are all the options How you want to apply the offer whether only on base amount or total uh delivery charge including delivery tip, donation, search charge, packaging charge and tax including all these whatever the amount will be there on that amount the offer will going to apply. If you selected all of these if you have selected only one base amount then if I'm having an order amount of 100 rupees 80 rupees is the base amount then offer will going to apply only to the 80 rupees. It won't apply to the search charge and tax whatever it is included. So I'll be selecting only base amount.
So how it will like equal base amount?
No it it is not going to apply equally. It will add everything then on that amount it will going to apply total 10% for both.
So one product Amazon if you're not prime user means will have separate like delivery charges will be there right deliver tax charges.
So If they're taking 100 rupees product means the offer only apply on base amount like base order amount of 100 rupees. If they giving total amount including of both tax and delivery means this offer won't apply for tax and delivery only base amount it will apply. If you only keep base if you keep both delivery and tax it will apply on both like all the sum it will do right tax plus base payment plus delivery on the total it will apply tax. No total uh based on selecting on the dashboard what you have selected
so it will select
it will app
yeah total
total of 10%
like okay 100 is the amount
10 is the dollar so 110 so
on that 110
10% it will take 11 rupees
okay So these are the options what we are having. So if you want to apply this offer particular apply on base amount delivery charge whatever you want you can choose that c that option is there for the customer to choose. So even I'll be having I told just now before that there are counters counters in the sense so there will be capping for amounts. So if I'm u creating one offer now so I'm having a fixed amount for that offer campaign. So I want to run that offer per particular of 1 month. and I want to give I mean for my company or whatever the merchant is decided that for that offer I want to disperse only 10,000 rupees whoever wants to take that offer they can take it by 100 rupees but once that 10,000 limited cost exhausted so it will automatically inactivate means it won't be available for the customer to use so that's what the feature of offer campaign amount I just want to give it to 200 rupees as of now that much amount of
yes
total amount
so if here I have given 10% right so maximum amount I have given 100 so 10% 10% like this so 10 10 rupees whatever how much it is it it will be after uh adding all the offer amounts whatever the customers has consumed it is it is exhausting the 200 value in the sense it it will going to automatically inactivate so amount is huge then let's say 3,000 rupees and 10% of that will be around 300.
Yeah.
So then this offer what?
Only 200 rupees only it will going to deduct and the offer will get deactivated automatically.
So you are a merchant right? You want to sell your products more. So you see like I have 10 quantities of some product of rupees 2,000.
Each each product is of about 2,000. I have 10 quantities. So So So you will give 10% discount for one one fee means 10% mean for 200 rupees you give discount.
So you will allow like about 600 rupees as offer campaign amount. So you can apply three for three customer the offer will be applied for rest it will be not applied. We have seen cards right?
Okay. Only for some like only for certain number of transaction it work.
Yeah it will work. After that it will be maximum cap 600 rupees you have given that offer cap amount it will reach for 600 is like 6 three three units will be sold to that offer remaining interest it will be normal price user
okay
you got that right
yeah for number of users
yeah it will be like if you given 10 units you have of 2,000 rupees so you have like 20,000 US is total sum and in that you able to give 600 discount for merchant so that merchant is also selling a discount but this discount can only apply for three customers if they take that percentage so If it's one transaction of 20,000
then only you're taking the quantity right it will be first units rest will be normal.
So you are right so it is if that amount is exe automatically it will going to deactivate
regarding the campaign. So uh while we apply any offer uh we have certain filters like 10% off on access bank. Okay. So, how we going to filter it out? Uh with bank and also with
that will come.
Yeah.
Okay. Banks also be
yeah everything is there. So, it will be in the next payment details page. So, this is you understood right? Offer campaign amount. So, this is related to offer campaign amount. There is one more uh uh I mean counter that is offer campaign count. So, as now we have discussed. So, this is the amount if it is exhausting it will be uh I mean uh deactivated the same way if I'm giving here 10 I mean this offer can be utilized by a first 10 10 transactions I can call 10 transactions it cannot be 10 persons it can be 10 transactions if the 10 transactions have that offer ID 11th transaction whatever they are trying to apply that offer it won't apply so it will be deactivated so this is the uh offer campaign amount and offer campaign counter the these are we are calling it as an counters. So then I'll be having a one more uh capping things that is the minimum transaction amount. So if you want to apply this offer, how much should be the minimum order amount they should maintain? I mean whenever they want to apply some you might have seen somewhere like if you order for 100 rupees then only you can apply that offer. Else if you short of 99 rupees also if you done any order it won't be applied. It will ask you to add one more rupee to get to uh utilize that offer. So that's what I'll be having the minimum transaction amount. So I'll just give it as a,000 uh sorry 100 rupees. So even you can uh cap with the maximum transaction amount also after if I'm giving 300 rupees after you apply more than this also if the order amount it won't apply. So then I'll be having a apply check on order breakup on this movie meaning is there an optimal of value some movie long form I forgot I'll just let you know and then uh this is a value some merchant of value or something is there I'll one second
of max
maximum order value sorry yeah this is Maximum order value capping also you can do I mean where you want to apply if you choose this. So again like the same way how we had here uh while selecting this uh where apply offer on order breakup the same way you can choose here also the options base amount delivery charge delivery tip donation search charge tax these uh options the and we have an option to choose a currency as well. So if you want to apply for Indian currency you can choose the Indian currency uh dirham and other payment options currency options. So by default it will be in Indian currency. So now also I can simply create an offer just by clicking the submit. So if I'm creating this this is a normal offer I mean any customer can utilize this offer which is of I mean 10% 10% on a order value of 100 more than 100 rupees they can get it. this offer. So if I want to give to a uh specifically for only few customers then I have a few more options to choose that is the payment details. So in the payment details I have an a card. So uh you have asked that question right? How I want to give if I want to give to only access card access or SDFC those things you can choose here. This can be given to amount per unique card. I mean this is the one more counter. If you want particular to card how much amount you want to give as a discount you can choose around 20 rupees per card and even I'm having one more option that is count per unique card one card can be utilized how many times that's the option of count per unique card getting
okay so if it is like debit card of access
so uh amount per card on that card 20 rupees and how many times I can use that card is like whatever you are getting this.
So if you mention two times means that card can be utilized only two times.
So if the same customer is using this card twice 20
yeah he can
but third time he cannot use the same card. to get that offer. That's the use of this counter amount per unique card and count per unique card and then we'll be having a bin selector option. So for particularly if you have a card of a specified bins right four or last five digits we'll be calling it as a bin. So if you want to give it to that you can select that bin selector and you can download that file and you can upload all the bins list for whom you want to roll out this offer and you can upload it only for those specified uh bin cards whatever having those only are eligible for this offering some
yes card based so that's why I chosen here card first so and
here if you giving this amount per unique card value as 200 and here the individual offer applying amount is 100
so will this offer be created
yes
like In previously you defined only 100 amount is eligible for a for one transaction. Right? Now if you're checking of like uh filtering out it's with card some card. So the amount should be equal or less than 100.
It is here it is amount per unique card. It is not like it should be
it's not based on uh customer
whatever the uh least one is there. So I'm having a 100 capping right that that will be taken priority and it will be discarded if you are creating both the way if you're having a order amount in in that case offer amount more than 200 or 500 in that case it will take this whatever here you are mentioning amount per unique card 200 or 400 if the offer amount maximum offer amount I'm having 1,000 consider but no maximum offer amount or 1,000 I'm having but per amount per uni card I'm mentioning it as 200 so it will be taken this first for that particular card.
Why this kind of priority
in the sense for that?
Why we giving the priority first to the card and
whichever is eligible first it will come right.
Not understanding
transaction for the Friday I want to tell.
No no this is the additional configuration whatever here I have mentioned right this GPA 10%. This 10% will be applicable to only card the selected card not for others. If anybody's doing NB or valid they can't get this offer. So here I'm given a 10% off right 10% off and maximum amount I have given 100 rupees. So in the payment details I'm mentioning amount per in card as 200 right so more than this he cannot take for that card but less than that he can take it right
for how many the transaction he does 200 rupees he can't take
yes
after that below that value he can
he can take that's the meaning of amount per in card like using his that access card he can have a offer of 200 but without that card you can have offer of 100 with no no.
No, no, no. If you're not using card only,
this is a configuration. I It should not apply. It will apply only to this card.
Right? If I am doing a transaction with my card
here on card uh we have a offer of 200. So using uh that card I can uh avail 200
if I'm 200.
Oh, this is twice. Twice I have not mentioned that is account per unit card next it will come here next one more is there
so it is like eligibility first it is like eligibility
one time he does 100 rupees he'll get second time he does 100 rupees he'll get
third time when he does he won't get it
he won't get it
because card on that is maximum is 200
amount per card unique card will be only 200 third time he cannot take it
period based offer. So that offer gets applied if you have a coupon.
Sorry,
that offer the coupon based offer gets applied when you have a valid coupon.
Yeah, this is a coupon based offer. Whatever I'm creating right now.
So now this payment you added another offer for this card. So how does this get?
Sorry, I didn't get your point on.
So initially you created a coupon based offer.
Still I have not created This is just this is extension of the same
it's addition filters
card we can get coupon right
it's like for this uh offer to apply these are the times in front like some offers will be using card
whatever the offer I have just told before in the offer details page if he wants to use this he has to use the card payment itself
in that card he can avail only per card 20 00 rupees he cannot by
more than that he cannot get through that card whatever it is mentioned
this only for that particular transaction
this one
multiple transaction also
yes transaction with the same
it will work it will work it should satisfy the minimum order amount and maximum capping whatever amount I have given here. See this is the maximum amount what I given here is 100 rupees if it is less than this it will going to apply got it and one more option I'm having counter per unique card so how many times this card can be used I can specify here so if I'm giving only one means this card can be utilized only for one transaction I cannot util it for another transaction. Second transaction I cannot even though he has the amount left in his I mean uh here amount per in card I'm having 200 rupees still 200 rupees he can utilize that card
right but in the first transaction he has done only for 100 rupees he utilized for 100 rupees but still he has left it out with 100 more right he has a bandwidth of 200 rupees but he utilized only 100 rupees still he has 100 rupees but he cannot use it one more time because account per uni card I have given as only once.
Yes, one time offer for one card. If you have given here two instead of one count per unique card as two. So first transaction he has taken 100 rupees. Second transaction also he can utilize the same card and he can opt one more 100 rupees and third transaction if he tries to do both will not satisfy. Even he has used two times of his card also and whatever the offer amount is mentioned amount per unit card will be 200 that also he has consumed.
Okay. So this is how these over discounts are first.
Yes. First five first six Amazon everything works on based on this.
So the is three times.
Yeah.
Offer amount per unit card is 250.
So if I'm doing the transaction uh so uh I'm doing the transaction of 1,000 rupees. So max amount is 100.
Huh. Now based on this I only have 50 rupees right? So what will be my offer? Is it 50 or 100?
50
100 first 100 second third transaction it will going to consume only 50 rupees.
Only 50 rupees whatever left it out for that card. No even though if you make whatever the order amount value but it will consider whatever is left it out for that particular card. So understood. Yeah. I'm having one more option to select. You have seen the bin select. ctor. The same way we have one more option that is the bank selector. So card networks you can choose which uh type of card networks you want to give that offer Visa, Mastercard, Rupe. So then it will going to be it is like a filter particular to that master type debit card only it will going to be apply or else other cards it won't apply that type of filter it is. Then card type I'll be having debit or credit. Then card issuer whether it is what type of bank it is. So these are all filters. with this uh configuration this offer configuration these are all additional filters to that the same way I'll be having one more payment option that is net banking so I can choose multiple also I mean I can give it to all the type of uh payment details these are all eligible for that offer in the net banking I can select the what are the banks it is eligible and I can choose it like this multiple selection. Okay. Then I'll be having an option of valid also. So I can select the valid Google pay valid, phone pay valid for which type of payments you are giving that offer will going to be decided in the payment details page based on your selection of the payment type. So if I'm not selecting any of the payment det details in the sense also all type of payments will be eligible for that offer.
If you are not accepting
any of any of the payment details in the sense any type of transaction will be eligible for this offer.
This is a filter type where you want to restrict your offer for a particular payment type then only you have to select any one any two any three any four. If you're not selecting any one of that means there is no filter for it. Anybody can use any payment channel uh type can be utilize this offer.
Sometimes we can see rightection we can use to get that
like this.
Yes. So even I will be having an option called choose EMI also. So you might have seen for particular card you'll be having a no cost EMI, low cost EMI and other some standard cost of 16 % 12% EMIs right those all also you can choose from this no cost EMI and you can uh specify the tenure 3 months 6 months 12 months so you might have seen in the flip card page payment page after choosing some of the cards so those also he can configure from this so then I'll be having a product and customer details
there can be a combination of card and
yes that's how you have seen in the flip card page Right. So in the next of that we'll be having one more tab that is product and customer details where you have seen in the payment details based on the payment details I can um uh filter out the offer to a customers. The same way based on a product and customer details also I want to filter it out. I mean for particular product only I want to give the offer and particular to that customer only I want to give that offer. In that case I need to filter it out with the product and customer details. So In this tab, I'll be having a customer details. So where I have to this is one more counter. The there are totally three counters. One is offer campaign amount. One more is in the payment. Uh this one offer campaign amount and amount per card. Whatever we have seen here amount per unique card and count per unique card. And one more counter is here. Amount per customer and count per customer. So in the sense if I'm choosing amount per customer for particular customer I want to tell only 200 rupees I want to give per customer means more than this if it tries to utilize also it won't be apply and he can't eligible for to get that offer and the same way I'll be having one more count per customer if I give two one customer can utilize that offer only twice with this 200 amount. It should not go beyond that 200 amount.
How does this customer validation
that I need to upload here? See, upload a list of customer ids who are eligible for the offer option.
Let's say you uh you know you give a filter for card
and uh I can't use the same card for that offer but I can still use another card. But in this case, if you have a customer
in that case if I'm customer have a um I mean this offer is eligible for two type of cards one is SDFC and one more is access bank I have given and here amount per customer I'm specifying the amount and count per customer as two okay in this case one one time that customer can use the access bank card and he can do a transaction second time he can get the HDFC bank card and he can do the transaction because count per customer is I have given as a two means he can be the same customer can be avail two times. That's what it indicates counts per customer. And this is the capping amount where he cannot utilize more than 200 rupees.
200 in one session.
No one total totally he has totally
totally 200 rupees. Even though I have given here payment details whatever card by selecting some of the amount
it if it is for for that particular customer if it is not more than just 200 means it won't apply.
So this validation seems to apply Yes.
So if you want to view for a particular customer means you have to upload that customer list here by downloading this.
So merchants will be knowing right whatever the customers are registered with them. So those customer ids they'll be taking up and they'll be dumping here and they'll be uploading it if they want. to I mean they will be having every uh set of data of us last year how many orders you have done whatever you have done. So based on that highest value or top five00 users who has who the top five uh 500 customers who has done the more orders in recent way those things they can take and they can dump it and this offer is eligible to only for those customers and you can just differentiate that with a upload a list of customer email who are ible for the offer option to run the targeted campaign because we can differentiate by customer ID and customer email and even I'll be having upload a list of customer phone. These are the three options what I'm having and I can upload uh to filter it out the offer eligibility. So then I'll be having a gateway filters also where I I can set it I can filter it out this offer for the particular gateways by uh I mean downloading all the gateways and uploading it for particular to that gateway only if see uh some of the users who are using when they in that transaction if they're hitting that particular gateway then only that offer will going to be applied else it won't and this is additional filters like selection of other uh UDF they are setting it by themselves it is extra parameters so then I'll be having a additional configurations so here I have an option called add-on offers. So here in the offer details I have chosen coupon based offer as yes. It is like a individual offer. If you want to make it as a coupon based not a coupon based offer but add-on offer means you just choose it as a no. Then here you going to get automatically it will be selected as sorry you have to select it as add-on offer as yes. Then you have to give the group ID. What do you mean by add-on offer? is see you might have seen in io that once if you buy a one particular product it will say buy this product also along with that if you buy this product also you're going to get a some discount
but not buy one if
like you choose one it will give one more
directly they itself we will going to suggest right
other suggestions
we have like similar kind of offer you can buy both or
those products would be eligible, right?
Then it will be a list of eligible products.
Multiple product
that's what the add-on offer. So multiple product sorry offer ids will be applicable on single uh transaction. If you buy all of the those three all the two or three offers will going to apply. If you buy only one product that offer will not going to apply. That's what the add-on offer. So you have to uh choose a group name for this. I mean uh if I'm having offer one, offer two and I want to combine both of them in a single uh offer in the sense then I have to give the group name considering fashion sale. So I want to give an offer for one shirt and one
first we have to create this group name somewhere else or here only
here only. Here only you have to give see first of Here it mentioning the group name.
Yes, group name. I'm just mentioning I'm creating this offer again. I'm creating one more offer for this consider.
Yeah, group name same if I'm giving. So these two I can be combined.
Yeah. So that's what the group name and uh this add-on offer and have an option to give the rank also display rank whether it it will be shown on top of it all those things. Uh it will show on the rank related. Yeah, I'll just create offer. See this add one more item to apply this offer. This is
that is the add-on offer. So I'm just creating this offer. So GP 10% it was created and it is active. In case I can pause it here from the dashboard and I can even delete it and even I can duplicate the same uh offer ID and even I can update it. Uh for the updation it is not uh allowed to update everything only few things if it is still not active but it will going to active after I mean if offer period is from tomorrow to day after tomorrow today I can update entire offer but once if it is active I cannot update all the fields I have a provision to update only few things that is this much only coupon based offers 10% offer code I can update and logo of the offer and whatever the offer title and payment details. If I want I can update and I can add the filters.
If your campaign amount uh is completed before the this offer gets expired.
So will this offer
automatically pause
inactivate
inactivate
automatically it will going to be inactivated because
amount is yes consumed entirely. If that amount is consumed it will going to inactivate. So, I'll just show you the APIs. So in the list of API I uh two parameters are important that is I mean uh mandatory that is the order amount. Okay. In while creating this offer I have given minimum cart amount as 100 minimum card amount as 100. So I'm hitting this offers list API. So here it is. display paid here the offer is eligible in the offers list API I'm getting the that particular offer is eligible GP 10% and Google play get 10% off on order about 100 rupees so in that case if I'm sending it less than that whatever the minimum order amount is specified so I'm getting a status as offer status as ineligible because it it is not met the minimum order amount. Minimum order amount was 100 rupees but here I'm the order amount is only 90 rupees. For that reason this offer is not eligible.
Yeah exactly that amount or more than that amount. Minimum order amount I have given as 100 rupees minimum that should be there.
Yeah. And I'll be getting the reason for ineligible is value 90 was not greater than or equal to 100. And how the order breakup will going to happen. You can see that in this see order amount was 90. So applicable order amount was 90. Final order amount is 80 rupees because 10 rupees uh was the discount what I have given absolute 10 rupees I have given. Sorry not this. No. Yeah. Order breakup 90 rupees. Uh applicable order amount is also 90. Final order amount is 81. How it is calculated as 81 is 90 90 rupees 10% is 9 rupees that is a discount amount and so offer amount is only 9 rupees. 90 - 9 we're going to get the final order amount that is 81 rupees but still it is a ineligible because total value whatever I have passed is less than the minimum order amount. And this is the benefit column where I have given what type of discount whether it is a percentage or absolute and what is the maximum amount. I can give okay in that case so if I'm passing 1,500 as a minimum amount sorry order amount still it is ineligible because value 1,500 was not less than or equal to 300 while setting that offer I have given the maximum order amount as 300 rupees so I am charging this uh sorry total order amount is 1,500 so because of that reason it is not eligible and in the Order breakup I can see order amount was 1,500 applicable order amount was also 1,500 but 10% of 1,500 will be 150 rupees but still final order amount is calculated as 1,00 1,400 rupees and discount amount is 100 because capping I have given as maximum he can get the offer amount is 100 rupees 10% 100 rupees is the maximum amount I give but even though it is calculation according to calculation it is 150 it is capped to only 100 rupees maximum what he can get And if I'm specifying between that amount min and max it is eligible now the same offer and order breakup will be 150 order amount whatever I passed is order Order amount. Applicable order amount is 150 and final order amount is 135 rupees. 150 is 10% will be 15. So it will going to uh deduct in the applicable order amount and it will not apply on the order amount. It will going to apply on the applicable order amount. The 10% whatever we have given that will be calculated on the applicable order amount not on the order amount because uh why They have differentiated order amount and applicable order amount is if I'm having a multiple offers first I need to deduct one offer amount then whatever amount I'm getting after deducting the first offer amount that will be considered as a applicable order amount for the second offer. So if I'm having two offers offer one and offer two okay it is these two offers are eligible for one transaction. So I'm having an order amount of 2,000 rupees. Okay. 10% and uh 200 rupees. Okay. 200 rupees. This is the offer. Offer one is of 10% of order value and offer two is of 200 absolute value. Okay. First what will happen? Order amount is 200 uh sorry 2,000 rupees. Applicable order amount is uh 2,000 rupees in the initially because whatever order amount is there same applicable order amount it will going to happen 10% of 2,000 will be 200 so I'll get 1,800 here also order amount will be same 2,000 rupees but applicable order amount it will take as a 1,800 because I cannot deduct this 200 rupees from total order amount I already deducted and I got a value of 1,800 rupees the same in this amount this is what the customer has to pay now
in that amount only again I am applying one more offer that is of 200 rupees 1,800 minus 200 we going to get 1,600 this is the amount customer has to pay to the merchant this is add-on offer what I'm having multiple offers in a single transactions that's why they have differentiated this order breakup with the order amount and applicable order amount
order count In which order the offer is supplied?
This one? No,
the 10% will be what if the offer one is 200, offer two is 10,000.
Fine. Here it will going to I mean so you might have 300. If I take 300 first it will going to be 1,800 because 10% of 2,000 will be 1,800 then 300 it will get minus in that case if the first outer period is 300 rupees here and 10% is here. 300 we going to deduct from it 2,300 and I'll get 1,700. This is the 1,700 what I got and 10% of 1,700 will be 170. So how much uh
amount is different
that that much has to be paid by the customer
mean that ordering willffect right
nothing because he consuming both the offer you know one transaction right it won't affect no Mean is if offer one is 10%. And offer two is 300 then the final amount is something different
and if offer one is uh 300 and offer two is 10% then the final amount is different. Right? In both the scenario the final amount is different.
Yes.
So the ordering matters.
Yes. Or that's what in the fment additional configuration we have the priority set. I mean that offer you want to display on what priority whether first priority, second priority or third priority. If that is set for first priority That will be first deducted and then the next office whatever it is that that will be deducted. I killed
sorry bro.
Yeah, we have.
Yes, after this I'll What's that? Sorry through that this create offer is from the dashboard API actually for back end also we are using just we are using it.
Okay. Uh like merchant would always use this one.
Yeah they'll use the front end they'll not use any APIs.
So just for testing
offer
offer API and we are passing all the parameters whatever we needed we'll be having.
So what are the parameters that is the same thing that we have it in dashboard
right now? Yeah same thing but few parameters we have already added or like product based offers and amount info capping some of the things we have done but which is not rolled out to production yet. In the coming days it will going to be rolled out that is the mainly one is the product based offers that is not there right now. So this is the list of API sorry apply offer API I'll create one internal call. Whenever we are doing it,
it will call automatically call also. Just for our testing, we're doing it. If I'm hitting it, I'll take this off. Second See this is the apply offer I mean body and uh what I'm expecting from this response. So whether it is eligible or not. What is the offer ID and how the order breakup is happening? 250 was the order amount and applicable order amount and how much was the discount. This is order block and then order block uh order basket and offer block if I'm having a two offers. So then in the offers block I'll be having a two different offers with ids and how it is calculated everything like this it will come. So at the end in the order breakup I'll be having a total discount amount here individually each offers value will be calculated as offer amount in the order breakup of that order I'll be having entirely disc amount of 50 if I'm having a two offers of offer amount of 25 rupees each. So here I'll get the offer amount as 50. So that's the response of apply offer. So even we'll be having one more feature uh that is also u I mean time zoner is thereuler when you want to schedule your offer. So if you want to schedule your offer at the exactly at 12:00 midnight for half an hour you can schedule a time you can keep it at that time only that offer will going to run after that it won't run and if you want to set that offer schedule from the even the minutes also you can do it like 30 minutes or 20 minutes and even seconds in the entire day and particularly uh for the entire month you uh so if I'm not wrong in the KFC we will be having only Wednesday we'll be having some offers so those those how it can be maintained is like every Wednesday while creating with a schedule What I'll going to set is every day sorry every month on Wednesday I'll going to set that week period as a Wednesday and I'll apply I mean create that offer. So that offer will be eligible only on Wednesdays of every month uh every week.
So uh this is basically an offer right? So we have different merchant
so can one offer be used by other merchant or
it cannot be Because uh in the dashboard only that particular merchant can create it right offer for that merchants customers only it is eligible it cannot be eligible to any other customers of any other merchants also cannot going to be used that
you already have that
here. So for that is there
no no same same only So we'll be setting it up with this. See there is a schedule uh block is there in create offer API. So this is uh like frequency I'll going to set it as weekly, monthly, daily.
Can we set this?
Yes. So all the parameters are not there. Few parameters are there. I'll just tell that. See as soon as you selected a granual offer validity so you have got a one more tab that is time constraints. So if you go here so you can choose here from date from time to to time. Okay. And uh in the calendar you can choose which day also like so I have given this wait one sec. Can I take out for this next week? So again May 25th to June 30th. Okay. If I go to time constraints. So I have to select the time from what time to what time. you want to run. By default, it will be entire day 12:00 a.m. U to 11:59 p.m. So you can choose the days on which date you want to um uh active that offer. So I'll choose the only Wednesday. See here in the calendar from 25th today is Thursday. So it is not selected. So next Wednesday is the 31st and 7th and 14th and 21 and 28th. These are the days this offer will be active. In other days it will be inactive. That's what I can choose and even from this timings you can choose it by uh I mean seconds also. So 12:15 to I want to enable it to 12:30. So only 15 minutes it will be active after that it will be uh inactivated. These are what we are calling as a dealers
and we have multiple offer up. Can you show that also? How we can multiple offers
here? I cannot I mean
yeah that I'll show
we have multiple offer ids and offer codes.
Yes.
So I'll show that. See here this is the office list. So I'm having a two offers here. This is the best offer combination that is a add-on offer. So two offers are applied. I mean this is the best offer what I can give it to the customer. So this offer combination will be displayed on top of the payments page where he can have a eye on it and he can grab those two things. Okay. So here one offer is this eligible phone pay by 20%. Okay, one more is eligible ABC 30 30% it is so discount absolute 30 rupees that is this offer rules wait one second minimum order amount this offer rules is minimum order amount is one and there is no cap for the maximum order amount and auto applies to that's it and these are the two combination I mean offers so one more thing is one more concept is there is the add-on offer concept I'll just brief it so while grouping the offers I told there's a parameter called group ID right the group name we are used to Okay. So I am giving the group name with the same group name. I'm creating two offers. Okay. One is 20% of order mode and one more is 200 rupees. Okay. And I'm having a one more group with the 10% and 100 rupees. And I have few more offers I mean which is not having any group names individual offers. So offer one is uh around uh 200 rupees and offer two is of around 300 rupees. Okay. In addon offers how it is going to be applied is first it will check among these two which one is larger. So I'm let's consider order amount will be 2,000 rupees. Okay 2,000 is my order amount. So it will check 2,000 uh 20 % of 2,000 will be 200 rupees and 200 is the normal value. So just take it as 210 just for explanation. So if it is a 210 so among these two which one is best. So it is the larger one right. So it will going to display on top of it 210. So then among group B it will check 10% of 200 will be 2,000 will be 200. So 20% of 2,000 400 and it will come 400 and 10% of 2,000 will be 200 and it is a normal 100 value. Among these two which one is best that will be displayed here among these two which one is best that will be displayed as a here in these three also it will going to add it up 400 + 200 and it will compare 300. Which one is larger? That will going to be displayed as the best offer combination. Here among these two, this is the best add-on, best offer combination, right? Because 400 + 200 is 600. 600 is greater than 300. Obviously, it should be displayed in the best offer combination block.
But uh how will that see a group A is already clubed with two offers. Group B is already clubed with two offers. Can we group A and group B? Correct. Yeah. Best offer combination is there. I mean best offer combination block in the sense how much that customer can get offers. How many offers he can get that was what we are displaying on top of it. So he is eligible for this offer this offer this offer this offer all the offers but still among them which one is the best one I want to show him and he can get these two also that's what I'm showing in the best offer combination block. So we have one more uh thing is that refund. So whenever if you avail any offers if you have created one offer uh sorry one order and you have app one offer to it and you have done the successful transaction. So after some time somewhat you have done the refund for that order id in that case that offer amount it will going to deduct from that customer and whatever he has paid. Now only that much amount will be uh refunded back to the customer and not the entire order amount and that again uh that uh uh offer status will be refunded to uh status will be refunded. If order amount is 2,000
and after applying the offer the value of total paid is 1,800. Yeah.
If it does a refund
how much he has paid that much he can get and if we have shown the filters right if he can apply if he should get only once or twice if he's eligible for only once and if he has consumed in the initial time and again if he has done the refund he's eligible to take that offer one more time by doing with that card. If he has done the succ
you can just uh offers one block is of first parameter you pass in the Yeah, here I have shown right. pass the offers parameter with the whatever the offers which are eligible.
Yes. Yes.
No no no no. If it is eligible then only the offer. See here now the status is just declined because these two offers combination is not at all eligible. So just by itself will decline that order itself. It will not allow the user to create the of uh this transaction itself. It is having their uh status codes like 700 see JP 78. So there are 32 to four uh JP 71 72 73 706 and 708. These are the five uh error codes are there with different different error messages. So it will going to fail it if it is not eligible. This apply offers will going to validate before creating the transaction itself. And then the offer codes also this is like giving multiple offer ID right. Yeah offer ID we can have multiple offer codes like
one offer sorry.
So uh in the dashboard we uh we can upload for same order id offer ID we can have multiple
offer ID we are not uploading right offer ID will be created by dashboard offer
course there will be JPA huh uh So there you can upload right also
in the basically applying multiple offer ID.
So there will be one more for applying multiple offer codes. In the next page, payments page here. This one your customer details and these things you're talking
not customer details. Um so there uh there will be one more we can upload the file like batch file, excel, excel file we can upload.
These these are the things only customers I uh sorry customer ids, customer email and uh customer phone numbers we are now uploading and in the payment details if I'm card or something I have to upload the bin selector and bank selector things
to additional config
additional configs first You want me to scroll it down?
You haven't tested like by applying multiple.
That's what multiple of us. No, I have tried. Same offer codes you are trying or
the same one already you can have multiple offer codes.
Huh? That's what I have shown just right. This is what this is a single order. I'm having a multiple offers.
See these are two different offers right?
I'm telling for like same offer ID only we can have multiple offer codes. H multiple offers code if you're trying to huh
so suppose here we created one offer ID right so under uh for that offer ID we can create multiple offer codes like instead of that offer ID sometime we we can use those offer codes
unique ID only it will take if I'm if I'm passing the same offer ID multiple times in that in this I have tested it so it will taken only one so uh between those two it will take only one Help. Beam, you're on mute if you're talking. So now I have a three code. Now after uploading this PSV to my uh the dashboard
uh that is no need. It's empty. So it will create the ID there. So there is I'm uploading my CSV. Okay, this is my CSV. I'm just uploading loading.
So actually now I have a parent offer ID. So this is my parent offer ID. But This parent of ID have child multiple childers. So what I can able to do like I can go here. This is the customer aure test. If I want only the name with testing one. So I can able to see the uh offer code ID and offer ID. So offer ID is three. This is the parent ID and that is displaying here. This is my offer code ID. So we we need to pass this offer code SL this offer ID in the transaction. So we can create multiple each one have only the like one time uh valid validity. So if you're uh anyone if you are doing transaction will be ineligible next time copy and no eligible. So we need to create in this offer block. Yes, like this is basically like we are creating a multiple hidden quotes instead of giving the parent one
not going to display which will be shared with a customer like
uh number of maybe someone have a unique like we are creating the name with test one test the same with that user can see different quotes. Maybe they will send a 50% offer with different quotes.
Uh uh uh the same but each one having a different quotes but the same offer offer percentages the same way. That is like payment via locking offer. So one more offer benefit we are having was a payment via locking offer. Yeah. Unmuted.
Unmuted. Yeah, we have one more offer benefit locking offer.
So we have a three offer benefits. I have one is discount, one more is a cash back and one more is the payment via locking offer. So discount in the sense as soon as the uh it will be that discount amount will be given by the merchant. Cash back in the sense once the order is successful then that amount will be transferred to your bank account that is the cash back. After the order successful only you'll get the amount that is cash back. So in the order itself that amount will going to get deducted in the sense that is a discount amount and one more we are having that is a payment via locking offer. What does it mean is so we'll be having some uh different payment uh brands if I'm considering so card that might be a card uh card bank sector any bank like access bank or something and Google pay and phone pay so what these guys are doing they want to do their branding Google pay is a new if I'm considering Google pay is came new into the market they want us to know the customer they want that brand to be known by every customering
yeah For that reason they will be giving they'll be uh tapping with the merchants by telling so you create an offer and ask the merchant sorry customers to pay via phone pay then you give them the 10% discount. Uh if I'm considering Swiki so phone pay is telling toi that you give a 10% discount if the customer end customer is paid by
phone pay If he has completed any transaction by using a phone pay then give him a 10% discount. Here in this case Swiggy has got a loss of 10%. Because he's not giving from his initially he's giving from his pocket but it it is utilized by a customer but it is told by phone pay right this 10% amount should be given by the phone pay to the merchant later on. For that reason we have a payment via locking offer. In that this 10% amount whatever it is given to the customer that amount somewhere in the DB we're going to store it and then later on that amount will be collected from the phone pay for the branding because those are the offers created by the means they phone is asked to create for the merchants so that's the offer called uh offer benefit called payment via locking offer when they want to promote their product now our product So if anybody is using we'll give like if suppose we are like submers it if is using their own autos then they won't give this offer if they come to we say you you're promoting our product right so we'll give 10% of total whatever the price to Ola will turn it we will give to customer right so here we are playing up with the mer like Ola to promote our product is like locking This one is
I want to test this one how the payment blocking is happening while testing this pos.
It is not possible. Say simply that user is benefit and they're calling tested it once also. like tokenization also.
Uh one more like uh when uh there will be one more offer. Uh for tokenization we will get the consent page. When the customer consent page and uh he he's proceed with the tokenization thing then in that case also we'll have one configuration that case. only in that case we will apply the offer when he opted the tokenization then we won't apply that offer so for tokenization also I will get
so for tokenization concept merchant will get the consent page so um in the offer detail page we'll have one field called like apply offer only for tokenization thing so when the merchant uh customer clicked on that consent page it will ask uh you Or you want to save your card for tokenization or oper. So if he click on secure now then then only the offer will apply. When he click on the op no then the offer won't apply in that case whether it got successful tokenization is successful or failed like whether when the customer clicked on the secure no it will apply when it he don't op for every mine sandbox only I think offer engine dashboard you can see. In addition detail page we'll have screen offer sandbox it is.
Mhm.
When I did tokenization my offer I was getting that no healthy upstream. Was that because of this one?
Yeah.
Did any concept of split amount
split amount
where I think
yes that is why my offer failed I have to find it again do in the here in the payment details For that you have to select the card details. And if you can see here apply on tokenization. When we have selected this one so it will this offer only apply when the customer click on secure for tokenization. Let me click on up now. It won't apply. So this is the offer for tokenization.
Wait without this I created an offer. Okay. Data transaction data tokenization. Uh I clicked on secure uh now. Okay. And when I saw the amount right whatever the offer that I had applied that means like I have given a discount for whatever the amount it was like give a discount of uh some 10 rupees or something
10%. So uh it calculated that and in my final uh amount that I was supposed to pay it showed me with the discount value.
Okay. With the discount value I made the trans uh did the transaction it was successful when I check the response of it tokenization was failed
token it won't related to token tokenization is different flow this offers it see if we fail that's why it's failing the
tokenization right
tokenization you will just say whether this card is eligible for tokenization or not but
no I have not opted this option only when I did testing
we not opted for ization just you like decline the you know
I did the transaction uh I accepted the consent I did the transaction everything was fine uh even in the amount that was about to deduct right so it calculated the correct percent it showed me the value of it and I paid the amount transaction is charged
like amount got deducted or
amount got deducted transaction is charged but if I see the tokenization flow there it was saying like no healthy upstream Is it because that not this one or is it because that is trying to uh reach out to network to get the power and other details there it is failing it's not able to complete the process so it's giving 500 in the flow because it's calling API to like different API card service to get the uh the card details right from network where it's failing in some exception we are not able to handle the flow itself it's breaking See if we select this one it only applicable for like tokeniz tokeniz like if the card is eligible for tokenization we get the consent that's it if it is not it will go to normal proer that's it
also apply uh on tokenization if I use tokenization is supported for visa card so if I use a master card
even though if the offer is valid
but Tokenization is not supported
in transaction. If the card bin is supported for tokenization service eligibility success, we will get the consent page rate. If you get consent page itself, if we click on secure now, that's it. Like it will get apply. It's not uh if it if that is not there. If the consent if consent is there, it will apply.
If consent is not there, it is not eligible for token block itself, then this offer won't Get some collect. Any other thing?
